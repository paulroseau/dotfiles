# Helpers
has() { 
  command -v "$1" >/dev/null 2>&1
}

is_interactive() {
  case $- in
    *i*) return 0 ;;  # interactive
    *)   return 1 ;;
  esac
}

# Environment variable (including PATH)
[ -r "$HOME/.env" ] && . "$HOME/.env"

export SHELL="bash"

# Aliases
[ -r "$HOME/.aliases" ] && . "$HOME/.aliases"

# Prompt
if is_interactive && has starship; then eval "$(starship init bash)"; fi

# Zoxide
if is_interactive && has zoxide; then eval "$(zoxide init bash)"; fi

# FZF (or skim) key bindings and completion (interactive shells only)
if is_interactive && { has fzf || has sk; }; then
  [ -r "$FZF_SHELL_DIR/completion.bash" ] && . "$FZF_SHELL_DIR/completion.bash"
  [ -r "$FZF_SHELL_DIR/key-bindings.bash" ] &&  . "$FZF_SHELL_DIR/key-bindings.bash"
fi
